<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>auth-token.js | hello-js-action-super-alu0100901214</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="auth-token.js" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="hello-js-action-super-alu0100901214" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="auth-token.js" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"auth-token.js","url":"/hello-js-action-alu0100901214/node_modules/@octokit/auth-token/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=b2af5f6ea41af3602f1a9c47b537e7eb2066fd0d">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/ULL-ESIT-PL-2021/hello-js-action-super-alu0100901214">View On GitHub</a></li>
          
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>hello-js-action-super-alu0100901214</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/ULL-ESIT-PL-2021">ULL-ESIT-PL-2021</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1 id="auth-tokenjs">auth-token.js</h1>

<blockquote>
  <p>GitHub API token authentication for browsers and Node.js</p>
</blockquote>

<p><a href="https://www.npmjs.com/package/@octokit/auth-token"><img src="https://img.shields.io/npm/v/@octokit/auth-token.svg" alt="@latest" /></a>
<a href="https://github.com/octokit/auth-token.js/actions?query=workflow%3ATest"><img src="https://github.com/octokit/auth-token.js/workflows/Test/badge.svg" alt="Build Status" /></a></p>

<p><code class="language-plaintext highlighter-rouge">@octokit/auth-token</code> is the simplest of <a href="https://github.com/octokit/auth.js">GitHub’s authentication strategies</a>.</p>

<p>It is useful if you want to support multiple authentication strategies, as it’s API is compatible with its sibling packages for <a href="https://github.com/octokit/auth-basic.js">basic</a>, <a href="https://github.com/octokit/auth-app.js">GitHub App</a> and <a href="https://github.com/octokit/auth.js">OAuth app</a> authentication.</p>

<!-- toc -->

<ul>
  <li><a href="#usage">Usage</a></li>
  <li><a href="#createtokenauthtoken-options"><code class="language-plaintext highlighter-rouge">createTokenAuth(token) options</code></a></li>
  <li><a href="#auth"><code class="language-plaintext highlighter-rouge">auth()</code></a></li>
  <li><a href="#authentication-object">Authentication object</a></li>
  <li><a href="#authhookrequest-route-options-or-authhookrequest-options"><code class="language-plaintext highlighter-rouge">auth.hook(request, route, options)</code> or <code class="language-plaintext highlighter-rouge">auth.hook(request, options)</code></a></li>
  <li><a href="#find-more-information">Find more information</a>
    <ul>
      <li><a href="#find-out-what-scopes-are-enabled-for-oauth-tokens">Find out what scopes are enabled for oauth tokens</a></li>
      <li><a href="#find-out-if-token-is-a-personal-access-token-or-if-it-belongs-to-an-oauth-app">Find out if token is a personal access token or if it belongs to an OAuth app</a></li>
      <li><a href="#find-out-what-permissions-are-enabled-for-a-repository">Find out what permissions are enabled for a repository</a></li>
      <li><a href="#use-token-for-git-operations">Use token for git operations</a></li>
    </ul>
  </li>
  <li><a href="#license">License</a></li>
</ul>

<!-- tocstop -->

<h2 id="usage">Usage</h2>

<table>
<tbody valign="top" align="left">
<tr><th>
Browsers
</th>&lt;td width=100%&gt;

Load `@octokit/auth-token` directly from [cdn.skypack.dev](https://cdn.skypack.dev)

```html
<script type="module">
  import { createTokenAuth } from "https://cdn.skypack.dev/@octokit/auth-token";
</script>
```

&lt;/td&gt;</tr>
<tr><th>
Node
</th><td>

Install with <code>npm install @octokit/auth-token</code>

```js
const { createTokenAuth } = require("@octokit/auth-token");
// or: import { createTokenAuth } from "@octokit/auth-token";
```

</td></tr>
</tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createTokenAuth</span><span class="p">(</span><span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">authentication</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">();</span>
<span class="c1">// {</span>
<span class="c1">//   type: 'token',</span>
<span class="c1">//   token: '1234567890abcdef1234567890abcdef12345678',</span>
<span class="c1">//   tokenType: 'oauth'</span>
<span class="c1">// }</span>
</code></pre></div></div>

<h2 id="createtokenauthtoken-options"><code class="language-plaintext highlighter-rouge">createTokenAuth(token) options</code></h2>

<p>The <code class="language-plaintext highlighter-rouge">createTokenAuth</code> method accepts a single argument of type string, which is the token. The passed token can be one of the following:</p>

<ul>
  <li><a href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line">Personal access token</a></li>
  <li><a href="https://developer.github.com/apps/building-oauth-apps/authorizing-oauth-apps/">OAuth access token</a></li>
  <li>Installation access token (<a href="https://developer.github.com/apps/building-github-apps/authenticating-with-github-apps/#authenticating-as-an-installation">GitHub App Installation</a>)</li>
  <li><a href="https://developer.github.com/actions/creating-github-actions/accessing-the-runtime-environment/#environment-variables">GITHUB_TOKEN provided to GitHub Actions</a></li>
</ul>

<p>Examples</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Personal access token or OAuth access token</span>
<span class="nx">createTokenAuth</span><span class="p">(</span><span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">);</span>

<span class="c1">// Installation access token or GitHub Action token</span>
<span class="nx">createTokenAuth</span><span class="p">(</span><span class="dl">"</span><span class="s2">v1.d3d433526f780fbcc3129004e2731b3904ad0b86</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="auth"><code class="language-plaintext highlighter-rouge">auth()</code></h2>

<p>The <code class="language-plaintext highlighter-rouge">auth()</code> method has no options. It returns a promise which resolves with the the authentication object.</p>

<h2 id="authentication-object">Authentication object</h2>

<table width="100%">
  <thead align="left">
    <tr>
      <th width="150">
        name
      </th>
      <th width="70">
        type
      </th>
      <th>
        description
      </th>
    </tr>
  </thead>
  <tbody align="left" valign="top">
    <tr>
      <th>
        <code>type</code>
      </th>
      <th>
        <code>string</code>
      </th>
      <td>
        <code>"token"</code>
      </td>
    </tr>
    <tr>
      <th>
        <code>token</code>
      </th>
      <th>
        <code>string</code>
      </th>
      <td>
        The provided token.
      </td>
    </tr>
    <tr>
      <th>
        <code>tokenType</code>
      </th>
      <th>
        <code>string</code>
      </th>
      <td>
        Can be either <code>"oauth"</code> for personal access tokens and OAuth tokens, or <code>"installation"</code> for installation access tokens (includes <code>GITHUB_TOKEN</code> provided to GitHub Actions)
      </td>
    </tr>
  </tbody>
</table>

<h2 id="authhookrequest-route-optionsorauthhookrequest-options"><code class="language-plaintext highlighter-rouge">auth.hook(request, route, options)</code> or <code class="language-plaintext highlighter-rouge">auth.hook(request, options)</code></h2>

<p><code class="language-plaintext highlighter-rouge">auth.hook()</code> hooks directly into the request life cycle. It authenticates the request using the provided token.</p>

<p>The <code class="language-plaintext highlighter-rouge">request</code> option is an instance of <a href="https://github.com/octokit/request.js#readme"><code class="language-plaintext highlighter-rouge">@octokit/request</code></a>. The <code class="language-plaintext highlighter-rouge">route</code>/<code class="language-plaintext highlighter-rouge">options</code> parameters are the same as for the <a href="https://github.com/octokit/request.js#request"><code class="language-plaintext highlighter-rouge">request()</code> method</a>.</p>

<p><code class="language-plaintext highlighter-rouge">auth.hook()</code> can be called directly to send an authenticated request</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="nx">authorizations</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">hook</span><span class="p">(</span>
  <span class="nx">request</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">GET /authorizations</span><span class="dl">"</span>
<span class="p">);</span>
</code></pre></div></div>

<p>Or it can be passed as option to <a href="https://github.com/octokit/request.js#request"><code class="language-plaintext highlighter-rouge">request()</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">requestWithAuth</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">request</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hook</span><span class="p">:</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">hook</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="nx">authorizations</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">requestWithAuth</span><span class="p">(</span><span class="dl">"</span><span class="s2">GET /authorizations</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="find-more-information">Find more information</h2>

<p><code class="language-plaintext highlighter-rouge">auth()</code> does not send any requests, it only transforms the provided token string into an authentication object.</p>

<p>Here is a list of things you can do to retrieve further information</p>

<h3 id="find-out-what-scopes-are-enabled-for-oauth-tokens">Find out what scopes are enabled for oauth tokens</h3>

<p>Note that this does not work for installations. There is no way to retrieve permissions based on an installation access tokens.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">TOKEN</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createTokenAuth</span><span class="p">(</span><span class="nx">TOKEN</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">authentication</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">(</span><span class="dl">"</span><span class="s2">HEAD /</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">authentication</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">scopes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="dl">"</span><span class="s2">x-oauth-scopes</span><span class="dl">"</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="sr">/,</span><span class="se">\s</span><span class="sr">+/</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
    <span class="s2">`"</span><span class="p">${</span><span class="nx">TOKEN</span><span class="p">}</span><span class="s2">" has </span><span class="p">${</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> scopes enabled: </span><span class="p">${</span><span class="nx">scopes</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="dl">"</span><span class="s2">, </span><span class="dl">"</span><span class="p">)}</span><span class="s2">`</span>
  <span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`"</span><span class="p">${</span><span class="nx">TOKEN</span><span class="p">}</span><span class="s2">" has no scopes enabled`</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="find-out-if-token-is-a-personal-access-token-or-if-it-belongs-to-an-oauth-app">Find out if token is a personal access token or if it belongs to an OAuth app</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">TOKEN</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createTokenAuth</span><span class="p">(</span><span class="nx">TOKEN</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">authentication</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">(</span><span class="dl">"</span><span class="s2">HEAD /</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">authentication</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">clientId</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="dl">"</span><span class="s2">x-oauth-client-id</span><span class="dl">"</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">clientId</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
    <span class="s2">`"</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">" is an OAuth token, its app’s client_id is </span><span class="p">${</span><span class="nx">clientId</span><span class="p">}</span><span class="s2">.`</span>
  <span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`"</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">" is a personal access token`</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="find-out-what-permissions-are-enabled-for-a-repository">Find out what permissions are enabled for a repository</h3>

<p>Note that the <code class="language-plaintext highlighter-rouge">permissions</code> key is not set when authenticated using an installation access token.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">TOKEN</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createTokenAuth</span><span class="p">(</span><span class="nx">TOKEN</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">authentication</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">request</span><span class="p">(</span><span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">'</span><span class="s1">octocat</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hello-world</span><span class="dl">'</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">authentication</span><span class="p">.</span><span class="nx">headers</span>
<span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">permissions</span><span class="p">)</span>
<span class="c1">// {</span>
<span class="c1">//   admin: true,</span>
<span class="c1">//   push: true,</span>
<span class="c1">//   pull: true</span>
<span class="c1">// }</span>
</code></pre></div></div>

<h3 id="use-token-for-git-operations">Use token for git operations</h3>

<p>Both OAuth and installation access tokens can be used for git operations. However, when using with an installation, <a href="https://developer.github.com/apps/building-github-apps/authenticating-with-github-apps/#http-based-git-access-by-an-installation">the token must be prefixed with <code class="language-plaintext highlighter-rouge">x-access-token</code></a>.</p>

<p>This example is using the <a href="https://github.com/sindresorhus/execa"><code class="language-plaintext highlighter-rouge">execa</code></a> package to run a <code class="language-plaintext highlighter-rouge">git push</code> command.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">TOKEN</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">1234567890abcdef1234567890abcdef12345678</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createTokenAuth</span><span class="p">(</span><span class="nx">TOKEN</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">tokenType</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">auth</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">tokenWithPrefix</span> <span class="o">=</span>
  <span class="nx">tokenType</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">installation</span><span class="dl">"</span> <span class="p">?</span> <span class="s2">`x-access-token:</span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span> <span class="p">:</span> <span class="nx">token</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">repositoryUrl</span> <span class="o">=</span> <span class="s2">`https://</span><span class="p">${</span><span class="nx">tokenWithPrefix</span><span class="p">}</span><span class="s2">@github.com/octocat/hello-world.git`</span><span class="p">;</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">stdout</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">execa</span><span class="p">(</span><span class="dl">"</span><span class="s2">git</span><span class="dl">"</span><span class="p">,</span> <span class="p">[</span><span class="dl">"</span><span class="s2">push</span><span class="dl">"</span><span class="p">,</span> <span class="nx">repositoryUrl</span><span class="p">]);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stdout</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="license">License</h2>

<p><a href="/hello-js-action-alu0100901214/node_modules/@octokit/auth-token/LICENSE">MIT</a></p>


      </section>

    </div>

    
  </body>
</html>
