<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>plugin-paginate-rest.js | hello-js-action-super-alu0100901214</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="plugin-paginate-rest.js" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="hello-js-action-super-alu0100901214" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="plugin-paginate-rest.js" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"plugin-paginate-rest.js","url":"/hello-js-action-alu0100901214/node_modules/@octokit/plugin-paginate-rest/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=b2af5f6ea41af3602f1a9c47b537e7eb2066fd0d">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/ULL-ESIT-PL-2021/hello-js-action-super-alu0100901214">View On GitHub</a></li>
          
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>hello-js-action-super-alu0100901214</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/ULL-ESIT-PL-2021">ULL-ESIT-PL-2021</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1 id="plugin-paginate-restjs">plugin-paginate-rest.js</h1>

<blockquote>
  <p>Octokit plugin to paginate REST API endpoint responses</p>
</blockquote>

<p><a href="https://www.npmjs.com/package/@octokit/plugin-paginate-rest"><img src="https://img.shields.io/npm/v/@octokit/plugin-paginate-rest.svg" alt="@latest" /></a>
<a href="https://github.com/octokit/plugin-paginate-rest.js/actions?workflow=Test"><img src="https://github.com/octokit/plugin-paginate-rest.js/workflows/Test/badge.svg" alt="Build Status" /></a></p>

<h2 id="usage">Usage</h2>

<table>
<tbody valign="top" align="left">
<tr><th>
Browsers
</th>&lt;td width=100%&gt;

Load `@octokit/plugin-paginate-rest` and [`@octokit/core`](https://github.com/octokit/core.js) (or core-compatible module) directly from [cdn.skypack.dev](https://cdn.skypack.dev)

```html
<script type="module">
  import { Octokit } from "https://cdn.skypack.dev/@octokit/core";
  import {
    paginateRest,
    composePaginateRest,
  } from "https://cdn.skypack.dev/@octokit/plugin-paginate-rest";
</script>
```

&lt;/td&gt;</tr>
<tr><th>
Node
</th><td>

Install with `npm install @octokit/core @octokit/plugin-paginate-rest`. Optionally replace `@octokit/core` with a core-compatible module

```js
const { Octokit } = require("@octokit/core");
const {
  paginateRest,
  composePaginateRest,
} = require("@octokit/plugin-paginate-rest");
```

</td></tr>
</tbody>
</table>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">MyOctokit</span> <span class="o">=</span> <span class="nx">Octokit</span><span class="p">.</span><span class="nx">plugin</span><span class="p">(</span><span class="nx">paginateRest</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">octokit</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyOctokit</span><span class="p">({</span> <span class="na">auth</span><span class="p">:</span> <span class="dl">"</span><span class="s2">secret123</span><span class="dl">"</span> <span class="p">});</span>

<span class="c1">// See https://developer.github.com/v3/issues/#list-issues-for-a-repository</span>
<span class="kd">const</span> <span class="nx">issues</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">(</span><span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}/issues</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div></div>

<p>If you want to utilize the pagination methods in another plugin, use <code class="language-plaintext highlighter-rouge">composePaginateRest</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">myPlugin</span><span class="p">(</span><span class="nx">octokit</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">allStars</span><span class="p">({</span><span class="nx">owner</span><span class="p">,</span> <span class="nx">repo</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">composePaginateRest</span><span class="p">(</span>
        <span class="nx">octokit</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}/stargazers</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">{</span><span class="nx">owner</span><span class="p">,</span> <span class="nx">repo</span> <span class="p">}</span>
      <span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="octokitpaginate"><code class="language-plaintext highlighter-rouge">octokit.paginate()</code></h2>

<p>The <code class="language-plaintext highlighter-rouge">paginateRest</code> plugin adds a new <code class="language-plaintext highlighter-rouge">octokit.paginate()</code> method which accepts the same parameters as <a href="https://github.com/octokit/request.js#request"><code class="language-plaintext highlighter-rouge">octokit.request</code></a>. Only “List …” endpoints such as <a href="https://developer.github.com/v3/issues/#list-issues-for-a-repository">List issues for a repository</a> are supporting pagination. Their <a href="https://developer.github.com/v3/issues/#response-1">response includes a Link header</a>. For other endpoints, <code class="language-plaintext highlighter-rouge">octokit.paginate()</code> behaves the same as <code class="language-plaintext highlighter-rouge">octokit.request()</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">per_page</code> parameter is usually defaulting to <code class="language-plaintext highlighter-rouge">30</code>, and can be set to up to <code class="language-plaintext highlighter-rouge">100</code>, which helps retrieving a big amount of data without hitting the rate limits too soon.</p>

<p>An optional <code class="language-plaintext highlighter-rouge">mapFunction</code> can be passed to map each page response to a new value, usually an array with only the data you need. This can help to reduce memory usage, as only the relevant data has to be kept in memory until the pagination is complete.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">issueTitles</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}/issues</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">issue</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">mapFunction</code> gets a 2nd argument <code class="language-plaintext highlighter-rouge">done</code> which can be called to end the pagination early.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">issues</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}/issues</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">(</span><span class="nx">response</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">find</span><span class="p">((</span><span class="nx">issues</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">issue</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">"</span><span class="s2">something</span><span class="dl">"</span><span class="p">)))</span> <span class="p">{</span>
      <span class="nx">done</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>

<p>Alternatively you can pass a <code class="language-plaintext highlighter-rouge">request</code> method as first argument. This is great when using in combination with <a href="https://github.com/octokit/plugin-rest-endpoint-methods.js/"><code class="language-plaintext highlighter-rouge">@octokit/plugin-rest-endpoint-methods</code></a>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">issues</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">(</span><span class="nx">octokit</span><span class="p">.</span><span class="nx">issues</span><span class="p">.</span><span class="nx">listForRepo</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="octokitpaginateiterator"><code class="language-plaintext highlighter-rouge">octokit.paginate.iterator()</code></h2>

<p>If your target runtime environments supports async iterators (such as most modern browsers and Node 10+), you can iterate through each response</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">parameters</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">};</span>
<span class="k">for</span> <span class="k">await</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">response</span> <span class="k">of</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">.</span><span class="nx">iterator</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">GET /repos/{owner}/{repo}/issues</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">parameters</span>
<span class="p">))</span> <span class="p">{</span>
  <span class="c1">// do whatever you want with each response, break out of the loop, etc.</span>
  <span class="kd">const</span> <span class="nx">issues</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">%d issues found</span><span class="dl">"</span><span class="p">,</span> <span class="nx">issues</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Alternatively you can pass a <code class="language-plaintext highlighter-rouge">request</code> method as first argument. This is great when using in combination with <a href="https://github.com/octokit/plugin-rest-endpoint-methods.js/"><code class="language-plaintext highlighter-rouge">@octokit/plugin-rest-endpoint-methods</code></a>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">parameters</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octocat</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hello-world</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">since</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2010-10-01</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">per_page</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
<span class="p">};</span>
<span class="k">for</span> <span class="k">await</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">response</span> <span class="k">of</span> <span class="nx">octokit</span><span class="p">.</span><span class="nx">paginate</span><span class="p">.</span><span class="nx">iterator</span><span class="p">(</span>
  <span class="nx">octokit</span><span class="p">.</span><span class="nx">issues</span><span class="p">.</span><span class="nx">listForRepo</span><span class="p">,</span>
  <span class="nx">parameters</span>
<span class="p">))</span> <span class="p">{</span>
  <span class="c1">// do whatever you want with each response, break out of the loop, etc.</span>
  <span class="kd">const</span> <span class="nx">issues</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">%d issues found</span><span class="dl">"</span><span class="p">,</span> <span class="nx">issues</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="composepaginaterest-and-composepaginaterestiterator"><code class="language-plaintext highlighter-rouge">composePaginateRest</code> and <code class="language-plaintext highlighter-rouge">composePaginateRest.iterator</code></h2>

<p>The <code class="language-plaintext highlighter-rouge">compose*</code> methods work just like their <code class="language-plaintext highlighter-rouge">octokit.*</code> counterparts described above, with the differenct that both methods require an <code class="language-plaintext highlighter-rouge">octokit</code> instance to be passed as first argument</p>

<h2 id="how-it-works">How it works</h2>

<p><code class="language-plaintext highlighter-rouge">octokit.paginate()</code> wraps <code class="language-plaintext highlighter-rouge">octokit.request()</code>. As long as a <code class="language-plaintext highlighter-rouge">rel="next"</code> link value is present in the response’s <code class="language-plaintext highlighter-rouge">Link</code> header, it sends another request for that URL, and so on.</p>

<p>Most of GitHub’s paginating REST API endpoints return an array, but there are a few exceptions which return an object with a key that includes the items array. For example:</p>

<ul>
  <li><a href="https://developer.github.com/v3/search/#example">Search repositories</a> (key <code class="language-plaintext highlighter-rouge">items</code>)</li>
  <li><a href="https://developer.github.com/v3/checks/runs/#response-3">List check runs for a specific ref</a> (key: <code class="language-plaintext highlighter-rouge">check_runs</code>)</li>
  <li><a href="https://developer.github.com/v3/checks/suites/#response-1">List check suites for a specific ref</a> (key: <code class="language-plaintext highlighter-rouge">check_suites</code>)</li>
  <li><a href="https://developer.github.com/v3/apps/installations/#list-repositories">List repositories</a> for an installation (key: <code class="language-plaintext highlighter-rouge">repositories</code>)</li>
  <li><a href="https://developer.github.com/v3/apps/installations/#response-1">List installations for a user</a> (key <code class="language-plaintext highlighter-rouge">installations</code>)</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">octokit.paginate()</code> is working around these inconsistencies so you don’t have to worry about it.</p>

<p>If a response is lacking the <code class="language-plaintext highlighter-rouge">Link</code> header, <code class="language-plaintext highlighter-rouge">octokit.paginate()</code> still resolves with an array, even if the response returns a single object.</p>

<h2 id="types">Types</h2>

<p>The plugin also exposes some types and runtime type guards for TypeScript projects.</p>

<table>
<tbody valign="top" align="left">
<tr><th>
<tr><th>
Types
</th><td>

```typescript
import {
  PaginateInterface,
  PaginatingEndpoints,
} from "@octokit/plugin-paginate-rest";
```

</td></tr>
<tr><th>
Guards
</th><td>

```typescript
import { isPaginatingEndpoint } from "@octokit/plugin-paginate-rest";
```

</td></tr>
&lt;/tbody&gt;
&lt;/table&gt;

### PaginateInterface

An `interface` that declares all the overloads of the `.paginate` method.

### PaginatingEndpoints

An `interface` which describes all API endpoints supported by the plugin. Some overloads of `.paginate()` method and `composePaginateRest()` function depend on `PaginatingEndpoints`, using the `keyof PaginatingEndpoints` as a type for one of its arguments.

```typescript
import { Octokit } from "@octokit/core";
import {
  PaginatingEndpoints,
  composePaginateRest,
} from "@octokit/plugin-paginate-rest";

type DataType<T> = "data" extends keyof T ? T["data"] : unknown;

async function myPaginatePlugin<E extends="" keyof="" PaginatingEndpoints="">(
  octokit: Octokit,
  endpoint: E,
  parameters?: PaginatingEndpoints[E]["parameters"]
): Promise&lt;DataType&lt;PaginatingEndpoints[E]["response"]&gt;&gt; {
  return await composePaginateRest(octokit, endpoint, parameters);
}
```

### isPaginatingEndpoint

A type guard, `isPaginatingEndpoint(arg)` returns `true` if `arg` is one of the keys in `PaginatingEndpoints` (is `keyof PaginatingEndpoints`).

```typescript
import { Octokit } from "@octokit/core";
import {
  isPaginatingEndpoint,
  composePaginateRest,
} from "@octokit/plugin-paginate-rest";

async function myPlugin(octokit: Octokit, arg: unknown) {
  if (isPaginatingEndpoint(arg)) {
    return await composePaginateRest(octokit, arg);
  }
  // ...
}
```

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md)

## License

[MIT](/hello-js-action-alu0100901214/node_modules/@octokit/plugin-paginate-rest/LICENSE)
</E></T></th></tr></tbody></table>


      </section>

    </div>

    
  </body>
</html>
