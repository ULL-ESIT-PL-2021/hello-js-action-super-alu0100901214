<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>graphql.js | hello-js-action-super-alu0100901214</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="graphql.js" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="hello-js-action-super-alu0100901214" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="graphql.js" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"graphql.js","url":"/hello-js-action-alu0100901214/node_modules/@octokit/graphql/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=b2af5f6ea41af3602f1a9c47b537e7eb2066fd0d">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="/assets/js/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="/assets/css/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/ULL-ESIT-PL-2021/hello-js-action-super-alu0100901214">View On GitHub</a></li>
          
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>hello-js-action-super-alu0100901214</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/ULL-ESIT-PL-2021">ULL-ESIT-PL-2021</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1 id="graphqljs">graphql.js</h1>

<blockquote>
  <p>GitHub GraphQL API client for browsers and Node</p>
</blockquote>

<p><a href="https://www.npmjs.com/package/@octokit/graphql"><img src="https://img.shields.io/npm/v/@octokit/graphql.svg" alt="@latest" /></a>
<a href="https://github.com/octokit/graphql.js/actions?query=workflow%3ATest+branch%3Amaster"><img src="https://github.com/octokit/graphql.js/workflows/Test/badge.svg" alt="Build Status" /></a></p>

<!-- toc -->

<ul>
  <li><a href="#usage">Usage</a>
    <ul>
      <li><a href="#send-a-simple-query">Send a simple query</a></li>
      <li><a href="#authentication">Authentication</a></li>
      <li><a href="#variables">Variables</a></li>
      <li><a href="#pass-query-together-with-headers-and-variables">Pass query together with headers and variables</a></li>
      <li><a href="#use-with-github-enterprise">Use with GitHub Enterprise</a></li>
      <li><a href="#use-custom-octokitrequest-instance">Use custom <code class="language-plaintext highlighter-rouge">@octokit/request</code> instance</a></li>
    </ul>
  </li>
  <li><a href="#typescript">TypeScript</a>
    <ul>
      <li><a href="#additional-types">Additional Types</a></li>
    </ul>
  </li>
  <li><a href="#errors">Errors</a></li>
  <li><a href="#partial-responses">Partial responses</a></li>
  <li><a href="#writing-tests">Writing tests</a></li>
  <li><a href="#license">License</a></li>
</ul>

<!-- tocstop -->

<h2 id="usage">Usage</h2>

<table>
<tbody valign="top" align="left">
<tr><th>
Browsers
</th>&lt;td width=100%&gt;

Load `@octokit/graphql` directly from [cdn.skypack.dev](https://cdn.skypack.dev)

```html
<script type="module">
  import { graphql } from "https://cdn.skypack.dev/@octokit/graphql";
</script>
```

&lt;/td&gt;</tr>
<tr><th>
Node
</th><td>

Install with <code>npm install @octokit/graphql</code>

```js
const { graphql } = require("@octokit/graphql");
// or: import { graphql } from "@octokit/graphql";
```

</td></tr>
</tbody>
</table>

<h3 id="send-a-simple-query">Send a simple query</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">repository</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">(</span>
  <span class="s2">`
    {
      repository(owner: "octokit", name: "graphql.js") {
        issues(last: 3) {
          edges {
            node {
              title
            }
          }
        }
      }
    }
  `</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="authentication">Authentication</h3>

<p>The simplest way to authenticate a request is to set the <code class="language-plaintext highlighter-rouge">Authorization</code> header, e.g. to a <a href="https://github.com/settings/tokens/">personal access token</a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">graphqlWithAuth</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">repository</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphqlWithAuth</span><span class="p">(</span><span class="s2">`
  {
    repository(owner: "octokit", name: "graphql.js") {
      issues(last: 3) {
        edges {
          node {
            title
          }
        }
      }
    }
  }
`</span><span class="p">);</span>
</code></pre></div></div>

<p>For more complex authentication strategies such as GitHub Apps or Basic, we recommend the according authentication library exported by <a href="https://github.com/octokit/auth.js"><code class="language-plaintext highlighter-rouge">@octokit/auth</code></a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">createAppAuth</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/auth-app</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">createAppAuth</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">APP_ID</span><span class="p">,</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span><span class="p">,</span>
  <span class="na">installationId</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">graphqlWithAuth</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">request</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hook</span><span class="p">:</span> <span class="nx">auth</span><span class="p">.</span><span class="nx">hook</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">repository</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphqlWithAuth</span><span class="p">(</span>
  <span class="s2">`{
    repository(owner: "octokit", name: "graphql.js") {
      issues(last: 3) {
        edges {
          node {
            title
          }
        }
      }
    }
  }`</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="variables">Variables</h3>

<p>⚠️ Do not use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a> in the query strings as they make your code vulnerable to query injection attacks (see <a href="https://github.com/octokit/graphql.js/issues/2">#2</a>). Use variables instead:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">lastIssues</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">(</span>
  <span class="s2">`
    query lastIssues($owner: String!, $repo: String!, $num: Int = 3) {
      repository(owner: $owner, name: $repo) {
        issues(last: $num) {
          edges {
            node {
              title
            }
          }
        }
      }
    }
  `</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octokit</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">graphql.js</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="pass-query-together-with-headers-and-variables">Pass query together with headers and variables</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">lastIssues</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="s2">`query lastIssues($owner: String!, $repo: String!, $num: Int = 3) {
    repository(owner:$owner, name:$repo) {
      issues(last:$num) {
        edges {
          node {
            title
          }
        }
      }
    }
  }`</span><span class="p">,</span>
  <span class="na">owner</span><span class="p">:</span> <span class="dl">"</span><span class="s2">octokit</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">repo</span><span class="p">:</span> <span class="dl">"</span><span class="s2">graphql.js</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="use-with-github-enterprise">Use with GitHub Enterprise</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">{</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">graphql</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">baseUrl</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://github-enterprise.acme-inc.com/api</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">repository</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">(</span><span class="s2">`
  {
    repository(owner: "acme-project", name: "acme-repo") {
      issues(last: 3) {
        edges {
          node {
            title
          }
        }
      }
    }
  }
`</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="use-custom-octokitrequest-instance">Use custom <code class="language-plaintext highlighter-rouge">@octokit/request</code> instance</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">request</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/request</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">withCustomRequest</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">requestCounter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">myRequest</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authentication</span><span class="p">:</span> <span class="dl">"</span><span class="s2">token secret123</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">request</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">hook</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">requestCounter</span><span class="o">++</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">myGraphql</span> <span class="o">=</span> <span class="nx">withCustomRequest</span><span class="p">(</span><span class="nx">myRequest</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">request</span><span class="p">(</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span><span class="p">);</span>
<span class="k">await</span> <span class="nx">myGraphql</span><span class="p">(</span><span class="s2">`
  {
    repository(owner: "acme-project", name: "acme-repo") {
      issues(last: 3) {
        edges {
          node {
            title
          }
        }
      }
    }
  }
`</span><span class="p">);</span>
<span class="c1">// requestCounter is now 2</span>
</code></pre></div></div>

<h2 id="typescript">TypeScript</h2>

<p><code class="language-plaintext highlighter-rouge">@octokit/graphql</code> is exposing proper types for its usage with TypeScript projects.</p>

<h3 id="additional-types">Additional Types</h3>

<p>Additionally, <code class="language-plaintext highlighter-rouge">GraphQlQueryResponseData</code> has been exposed to users:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">GraphQlQueryResponseData</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">octokit/graphql</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="errors">Errors</h2>

<p>In case of a GraphQL error, <code class="language-plaintext highlighter-rouge">error.message</code> is set to the first error from the response’s <code class="language-plaintext highlighter-rouge">errors</code> array. All errors can be accessed at <code class="language-plaintext highlighter-rouge">error.errors</code>. <code class="language-plaintext highlighter-rouge">error.request</code> has the request options such as query, variables and headers set for easier debugging.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">{</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">graphqlt</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">`{
  viewer {
    bioHtml
  }
}`</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// server responds with</span>
  <span class="c1">// {</span>
  <span class="c1">//  "data": null,</span>
  <span class="c1">//  "errors": [{</span>
  <span class="c1">//   "message": "Field 'bioHtml' doesn't exist on type 'User'",</span>
  <span class="c1">//   "locations": [{</span>
  <span class="c1">//    "line": 3,</span>
  <span class="c1">//    "column": 5</span>
  <span class="c1">//   }]</span>
  <span class="c1">//  }]</span>
  <span class="c1">// }</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Request failed:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">request</span><span class="p">);</span> <span class="c1">// { query, variables: {}, headers: { authorization: 'token secret123' } }</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span> <span class="c1">// Field 'bioHtml' doesn't exist on type 'User'</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="partial-responses">Partial responses</h2>

<p>A GraphQL query may respond with partial data accompanied by errors. In this case we will throw an error but the partial data will still be accessible through <code class="language-plaintext highlighter-rouge">error.data</code></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">{</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">graphql</span> <span class="o">=</span> <span class="nx">graphql</span><span class="p">.</span><span class="nx">defaults</span><span class="p">({</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`token secret123`</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">});</span>
<span class="kd">const</span> <span class="nx">query</span> <span class="o">=</span> <span class="s2">`{
  repository(name: "probot", owner: "probot") {
    name
    ref(qualifiedName: "master") {
      target {
        ... on Commit {
          history(first: 25, after: "invalid cursor") {
            nodes {
              message
            }
          }
        }
      }
    }
  }
}`</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">graphql</span><span class="p">(</span><span class="nx">query</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// server responds with</span>
  <span class="c1">// {</span>
  <span class="c1">//   "data": {</span>
  <span class="c1">//     "repository": {</span>
  <span class="c1">//       "name": "probot",</span>
  <span class="c1">//       "ref": null</span>
  <span class="c1">//     }</span>
  <span class="c1">//   },</span>
  <span class="c1">//   "errors": [</span>
  <span class="c1">//     {</span>
  <span class="c1">//       "type": "INVALID_CURSOR_ARGUMENTS",</span>
  <span class="c1">//       "path": [</span>
  <span class="c1">//         "repository",</span>
  <span class="c1">//         "ref",</span>
  <span class="c1">//         "target",</span>
  <span class="c1">//         "history"</span>
  <span class="c1">//       ],</span>
  <span class="c1">//       "locations": [</span>
  <span class="c1">//         {</span>
  <span class="c1">//           "line": 7,</span>
  <span class="c1">//           "column": 11</span>
  <span class="c1">//         }</span>
  <span class="c1">//       ],</span>
  <span class="c1">//       "message": "`invalid cursor` does not appear to be a valid cursor."</span>
  <span class="c1">//     }</span>
  <span class="c1">//   ]</span>
  <span class="c1">// }</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Request failed:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">request</span><span class="p">);</span> <span class="c1">// { query, variables: {}, headers: { authorization: 'token secret123' } }</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span> <span class="c1">// `invalid cursor` does not appear to be a valid cursor.</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span> <span class="c1">// { repository: { name: 'probot', ref: null } }</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="writing-tests">Writing tests</h2>

<p>You can pass a replacement for <a href="https://github.com/bitinn/node-fetch">the built-in fetch implementation</a> as <code class="language-plaintext highlighter-rouge">request.fetch</code> option. For example, using <a href="http://www.wheresrhys.co.uk/fetch-mock/">fetch-mock</a> works great to write tests</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">assert</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">assert</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">fetchMock</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fetch-mock/es5/server</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">graphql</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@octokit/graphql</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">graphql</span><span class="p">(</span><span class="dl">"</span><span class="s2">{ viewer { login } }</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="dl">"</span><span class="s2">token secret123</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">request</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">fetch</span><span class="p">:</span> <span class="nx">fetchMock</span>
      <span class="p">.</span><span class="nx">sandbox</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://api.github.com/graphql</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">authorization</span><span class="p">,</span> <span class="dl">"</span><span class="s2">token secret123</span><span class="dl">"</span><span class="p">);</span>
        <span class="nx">assert</span><span class="p">.</span><span class="nx">strictEqual</span><span class="p">(</span>
          <span class="nx">options</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">{"query":"{ viewer { login } }"}</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">Sends correct query</span><span class="dl">"</span>
        <span class="p">);</span>
        <span class="k">return</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="p">{}</span> <span class="p">};</span>
      <span class="p">}),</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="license">License</h2>

<p><a href="/hello-js-action-alu0100901214/node_modules/@octokit/graphql/LICENSE">MIT</a></p>


      </section>

    </div>

    
  </body>
</html>
